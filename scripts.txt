DROP PROCEDURE IF EXISTS SP_COUNT_MEMBER;
CREATE PROCEDURE SP_COUNT_MEMBER(IN email VARCHAR(120), IN pass VARCHAR(120))
SELECT COUNT(*) AS c FROM MEMBER WHERE Email = email AND Password = pass;

DROP PROCEDURE IF EXISTS SP_FIND_MEMBER_ID;
CREATE PROCEDURE SP_FIND_MEMBER_ID(IN email VARCHAR(120), IN pass VARCHAR(120))
SELECT MemberID FROM MEMBER WHERE Email = email AND Password = pass;

DROP PROCEDURE IF EXISTS SP_COUNT_STAFF;
CREATE PROCEDURE SP_COUNT_STAFF(IN email VARCHAR(120), IN pass VARCHAR(120))
SELECT COUNT(*) AS c FROM STAFF WHERE Email = email AND Password = pass;

DROP PROCEDURE IF EXISTS SP_FIND_STAFF_ID;
CREATE PROCEDURE SP_FIND_STAFF_ID(IN email VARCHAR(120), IN pass VARCHAR(120))
SELECT StaffID FROM MEMBER WHERE Email = email AND Password = pass;

DROP PROCEDURE IF EXISTS SP_FIND_MEMBER_ROLE;
CREATE PROCEDURE SP_FIND_MEMBER_ROLE(IN email VARCHAR(120), IN pass VARCHAR(120))
SELECT Role FROM MEMBER WHERE Email = email AND Password = pass;

DROP PROCEDURE IF EXISTS SP_COUNT_EMAIL;
CREATE PROCEDURE SP_COUNT_EMAIL(IN email VARCHAR(120))
SELECT COUNT(*) AS c FROM (
            SELECT 1 AS source FROM MEMBER WHERE Email = email
            UNION
            SELECT 2 AS source FROM STAFF WHERE Email = email
        ) AS combined
